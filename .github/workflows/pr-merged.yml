name: PR Merged Celebration ğŸ¥³

on:
  pull_request:
    types: [closed]

jobs:
  celebrate:
    # PRì´ ë‹«í˜”ê³  (closed) ë™ì‹œì— ë³‘í•©(merged)ë˜ì—ˆì„ ë•Œë§Œ ì‹¤í–‰
    if: github.event.pull_request.merged == true
    runs-on: ubuntu-latest
    
    # --- ğŸš¨ ê¶Œí•œ ìˆ˜ì •: issues: write í•„ìˆ˜ ğŸš¨ ---
    permissions:
      issues: write # PR ëŒ“ê¸€ ì‘ì„± ê¶Œí•œ
      pull-requests: read # (ì„ íƒ) PR ì •ë³´ë¥¼ ì½ê¸° ìœ„í•œ ê¶Œí•œ
      contents: read # (ì„ íƒ) GITHUB_TOKENì˜ ê¸°ë³¸ ê¶Œí•œì„ ìœ ì§€
    # ----------------------------------------
    
    steps:
      - name: ë¨¸ì§€ ì¶•í•˜ ë©”ì‹œì§€
        uses: actions/github-script@v7
        with:
          script: |
            // awaitë¥¼ ì‚¬ìš©í•˜ì—¬ API í˜¸ì¶œì´ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.
            await github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: 'ğŸ‰ **PRì´ ì„±ê³µì ìœ¼ë¡œ ë¨¸ì§€ë˜ì—ˆìŠµë‹ˆë‹¤! ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤!** ğŸ‘'
            });
